{% macro name(repo) %}
    {{ repo.owner.name or repo.owner.login }}
{% endmacro %}

<!DOCTYPE html>
<html lang="en">

<head>
    <title>Forks</title>
    <style>
        body {
            font-family: baskerville, georgia, serif;
        }

        main {
            margin: 10vw 30vw;
        }
    </style>
</head>

<body>
    <main>
        <header>
            <h1>Forks</h1>
            <h2>A collaborative, distributed story.</h2>
        </header>

        {# Is this the root repo? #}
        {% if not repo.source %}
            <p>
                You started this journey on {{ repo.created_at }}.
            </p>
        {# Direct child of the root #}
        {% elif repo.source == repo.parent %}
            <p>
            You heard that {{ name(parent) }} began this journey on {{ parent.created_at }}.
            </p>
        {# Descendent of the root but not a direct child #}
        {% else %}
           <p>
            Before you, {{ name(parent) }} began this journey on {{ parent.created_at }}, but
            they were not the first.
            </p>
        {% endif %}

        {% for fork in forks %}
        <p>{{ name(fork) }} joined the party on {{ fork.created_at }}.</p>
        {% endfor %}
    </main>
</body>

</html>